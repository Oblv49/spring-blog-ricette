<!doctype html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml">
<head th:replace="fragments/script :: head('Inserisci Ricetta')"></head>
<body class="bg-dark">
<nav th:replace="fragments/navbar :: navbar"></nav>
<div class="container">
    <h1 class="text-pink mt-3">Inserisci una Nuova Ricetta</h1>
    <hr class="text-pink">
</div>
<div class="container">
    <form
            id="recipe-form"
            th:action="@{/create}"
            th:object="${recipe}"
            method="POST"
    >

        <div class="mb-3">
            <label for="title" class="form-label text-white">Titolo</label>
            <input type="text" class="form-control" id="title" th:field="*{title}" required
                   th:errorClass="is-invalid">
            <div class="invalid-feedback" th:if="${#fields.hasErrors('title')}">
                <ul>
                    <li th:each="err : ${#fields.errors('title')}" th:text="${err}"></li>
                </ul>
            </div>
        </div>

        <div class="mb-3">
            <label for="ingredientsList" class="form-label text-white">Lista Ingredienti</label>
            <input type="text" class="form-control" id="ingredientsList" th:field="*{ingredientsList}" required
                   th:errorClass="is-invalid">
            <div class="invalid-feedback" th:if="${#fields.hasErrors('ingredientsList')}">
                <ul>
                    <li th:each="err : ${#fields.errors('ingredientsList')}" th:text="${err}"></li>
                </ul>
            </div>
        </div>

        <div class="mb-3">
            <label for="urlPhoto" class="form-label text-white">URL Foto</label>
            <input type="text" class="form-control" id="urlPhoto" th:field="*{urlPhoto}" required
                   th:errorClass="is-invalid">
            <div class="invalid-feedback" th:if="${#fields.hasErrors('urlPhoto')}">
                <ul>
                    <li th:each="err : ${#fields.errors('urlPhoto')}" th:text="${err}"></li>
                </ul>
            </div>
        </div>

        <div class="mb-3">
            <label for="timeOfPreparation" class="form-label text-white">Tempo di Preparazione</label>
            <input type="text" class="form-control" id="timeOfPreparation" th:field="*{timeOfPreparation}" required
                   th:errorClass="is-invalid">
            <div class="invalid-feedback" th:if="${#fields.hasErrors('timeOfPreparation')}">
                <ul>
                    <li th:each="err : ${#fields.errors('timeOfPreparation')}" th:text="${err}"></li>
                </ul>
            </div>
        </div>

        <div class="mb-3">
            <label for="portion" class="form-label text-white">Porzioni</label>
            <input type="text" class="form-control" id="portion" th:field="*{portion}" required
                   th:errorClass="is-invalid">
            <div class="invalid-feedback" th:if="${#fields.hasErrors('portion')}">
                <ul>
                    <li th:each="err : ${#fields.errors('portion')}" th:text="${err}"></li>
                </ul>
            </div>
        </div>

        <div class="mb-3">
            <label for="textOfRecipe" class="form-label text-white">Testo della Ricetta</label>
            <input type="text" class="form-control" id="textOfRecipe" th:field="*{textOfRecipe}" required
                   th:errorClass="is-invalid">
            <div class="invalid-feedback" th:if="${#fields.hasErrors('textOfRecipe')}">
                <ul>
                    <li th:each="err : ${#fields.errors('textOfRecipe')}" th:text="${err}"></li>
                </ul>
            </div>
        </div>
        <div class="mb-3">
            <label for="category" class="form-label text-white">Categoria</label>
            <select class="form-select" id="category" th:field="*{category.id}">
                <option th:each="cat : ${categories}" th:value="${cat.id}" th:text="${cat.name}"></option>
            </select>
        </div>
        <div class="mb-3">
            <button type="submit" class="btn btn-pink">Salva</button>
            <a class="btn btn-pink" th:href="@{/}">Annulla</a>
        </div>
    </form>
</div>
<th:block th:replace="fragments/script :: scriptBody"></th:block>
</body>
</html>